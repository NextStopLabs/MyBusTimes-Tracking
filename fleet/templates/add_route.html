{% extends 'mbtbase.html' %}
{% load static %}

{% block title %}Add Route{% endblock %}

{% block content %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/narrow.css' %}">
{% endblock %}

<div class="fleet-edit-wrapper">
  <h2>Add Route</h2>
  
  <form action="" method="POST">
    {% csrf_token %}
    <input type="hidden" id="user" name="user" value="{{ userData.0.id }}">
    <input type="hidden" id="operator" name="operator" value="{{ operatorData.id }}">

    <label for="route_number">Route Number:</label>
    <input type="text" id="route_number" name="route_number">

    <label for="route_name">Route Name:</label>
    <input type="text" id="route_name" name="route_name">

    <label for="inbound_destination">Inbound Destination:</label>
    <input type="text" id="inbound_destination" name="inbound_destination">

    <label for="outbound_destination">Outbound Destination:</label>
    <input type="text" id="outbound_destination" name="outbound_destination">
    <small>To make a circular route leave the outbound destination blank.</small>

    <label for="other_destinations">Other Destinations:</label>
    <input type="text" id="other_destinations" name="other_destinations">
    <small>Comma Separated</small>

    <label for="start_date">Start Date:</label>
    <input type="date" name="start_date" id="start_date"><br><br>

    <label for="route_text_color">Text Color:</label><br>
    <label for="route_text_color">Enabled</label><input type="checkbox" name="route_text_color_enabled" id="route_text_color_enabled" {% if enable_route_text_colours %}checked{% endif %}><br>
    <input type="color" name="route_text_color" id="route_text_color" value="{{ routeData.route_details.route_text_colour|default_if_none:'#ffffff' }}"><br><br>

    <label for="route_background_color">Background Color:</label><br>
    <label for="route_background_color">Enabled</label><input type="checkbox" name="route_background_color_enabled" id="route_background_color_enabled" {% if enable_route_colours %}checked{% endif %}><br>
    <input type="color" name="route_background_color" id="route_background_color" value="{{ routeData.route_details.route_colour|default_if_none:'#ffffff' }}"> <br><br>

    <label for="linkable_routes">Linkable Routes:</label>
    <select id="linkable_routes" name="linkable_routes" multiple>
      {% for route in linkableAndRelatedRoutes %}
        <option value="{{ route.id }}">{{ route }}</option>
      {% endfor %}
    </select>
     <small>Hold <strong>Ctrl</strong> (or <strong>Cmd</strong> on Mac) to select multiple routes</small>

    <label for="related_routes">Related Routes:</label>
    <select id="related_routes" name="related_routes" multiple>
      {% for route in linkableAndRelatedRoutes %}
        <option value="{{ route.id }}">{{ route }}</option>
      {% endfor %}
    </select>
     <small>Hold <strong>Ctrl</strong> (or <strong>Cmd</strong> on Mac) to select multiple routes</small>

    <label for="payment_methods">Payment Methods:</label>
    <select id="payment_methods" name="payment_methods" multiple size="2">
      {% for method in paymentMethods %}
        <option value="{{ method.id }}">{{ method }}</option>
      {% endfor %}
    </select>
    <small>Hold <strong>Ctrl</strong> (or <strong>Cmd</strong> on Mac) to select multiple payment methods</small>

    <label for="route_depot">Depot:</label>
    <input type="text" id="route_depot" name="route_depot" value="{{ routeData.route_depot|default_if_none:'' }}">
    <br>

    <label for="school_service">School Service</label>
    <input type="checkbox" id="school_service" name="school_service"><br>
    
    <label for="hidden_service">Hidden</label>
    <input type="checkbox" id="hidden_service" name="hidden_service">
    <small>Hidden services won't appear on the main routes page</small><br>
    
    <br>

    <button type="submit">Create Route</button>
</form>
{% endblock %}