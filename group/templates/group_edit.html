{% extends 'mbtbase.html' %}

{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/narrow.css' %}">
{% endblock %}

{% block title %}Edit Group - {{ group.group_name }}{% endblock %}

{% block content %}
<div class="container">
    <h2>Edit Group "{{ group.group_name }}"</h2>
    <form method="post" class="fleet-edit-wrapper">
        {% csrf_token %}
        <div class="form-group">
            <label for="group_name">Group Name:</label>
            <input type="text" id="group_name" name="group_name" class="form-control" required
                   value="{{ group.group_name }}">
        </div><br>

        <div class="form-group">
            <label for="order_by">Order Fleet By:</label>
            <select id="order_by" name="order_by" class="form-control">
                {% for choice in order_by_choices %}
                    <option {% if group.order_by == choice.0 %}selected{% endif %} value="{{ choice.0 }}">{{ choice.1 }}</option>
                {% endfor %}
            </select>
            <small class="create-link">Select how the fleet should be ordered within the group.</small>
        </div>

        <br>

        <div class="form-check">
            <input type="checkbox" id="group_private" name="group_private" class="form-check-input" {% if group.private %}checked{% endif %}>
            <label for="group_private" class="form-check-label">Make this group private</label>
        </div><br>

        <button type="submit" class="btn btn-primary mt-3">Save Changes</button>
    </form>

    <!-- Delete form -->
    <form method="post" action="{% url 'group_delete' group.group_name %}" style="margin-top: -35px;" onsubmit="return confirm('Are you sure you want to delete this group? This action cannot be undone.');">
        {% csrf_token %}
        <button type="submit" class="btn delete-btn mt-3">Delete Group</button>
    </form>
</div>
{% endblock %}
